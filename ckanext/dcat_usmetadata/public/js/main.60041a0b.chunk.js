(this["webpackJsonpmetadata-app"]=this["webpackJsonpmetadata-app"]||[]).push([[0],{109:function(e,a,t){},110:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(68),s=t.n(l),c=(t(83),t(9)),i=t(10),o=t(77);function u(){return(u=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function m(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var d=n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("path",{d:"M437.02,74.98C388.667,26.629,324.38,0,256,0S123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256    s26.629,132.667,74.98,181.02C123.333,485.371,187.62,512,256,512s132.667-26.629,181.02-74.98    C485.371,388.667,512,324.38,512,256S485.371,123.333,437.02,74.98z M256,70c30.327,0,55,24.673,55,55c0,30.327-24.673,55-55,55    c-30.327,0-55-24.673-55-55C201,94.673,225.673,70,256,70z M326,420H186v-30h30V240h-30v-30h110v180h30V420z",fill:"#0050D8"}))),p=n.a.createElement("g",null),h=n.a.createElement("g",null),g=n.a.createElement("g",null),f=n.a.createElement("g",null),v=n.a.createElement("g",null),b=n.a.createElement("g",null),E=n.a.createElement("g",null),y=n.a.createElement("g",null),_=n.a.createElement("g",null),N=n.a.createElement("g",null),w=n.a.createElement("g",null),O=n.a.createElement("g",null),x=n.a.createElement("g",null),S=n.a.createElement("g",null),C=n.a.createElement("g",null),q=function(e){var a=e.svgRef,t=e.title,r=m(e,["svgRef","title"]);return n.a.createElement("svg",u({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",width:"512px",height:"512px",ref:a},r),t?n.a.createElement("title",null,t):null,d,p,h,g,f,v,b,E,y,_,N,w,O,x,S,C)},k=n.a.forwardRef((function(e,a){return n.a.createElement(q,u({svgRef:a},e))})),j=(t.p,t(58),function(e){var a=Object(r.useState)(!1),t=Object(c.a)(a,2),l=t[0],s=t[1],u=function(){return s(!l)},m=e.name,d=e.label,p=e.children,h=e.helptext,g=e.required,f=e.id,v=e.errors,b=e.disabled,E=e.infoText,y=e.onClick,_=Object(o.a)(e,["name","label","children","helptext","required","id","errors","disabled","infoText","onClick"]),N=v||{},w=_.choices||[],O=_.type||"string",x="";return x=b?"disabled":"",n.a.createElement("div",null,n.a.createElement("label",{className:"usa-label",htmlFor:f},d,d&&g&&n.a.createElement("span",null,"*"),E&&n.a.createElement("div",{className:"tooltip ".concat(l?"show":"")},n.a.createElement(k,{height:"20px",width:"20px",style:{marginLeft:".5em"},tabIndex:0,onClick:function(){return u()},onKeyUp:function(e){13===e.keyCode&&u()}}),n.a.createElement("span",{className:"tooltiptext"},n.a.createElement("span",{tabIndex:0,className:"close",onClick:function(){return s(!1)},role:"button",onKeyUp:function(e){13===e.keyCode&&s(!1)}},n.a.createElement("span",{className:"close-tag"},"\xd7")),n.a.createElement("h3",null,d),n.a.createElement("p",null,E)))),N[m]&&n.a.createElement("span",{className:"error-msg"},N[m]),n.a.createElement("div",{className:"usa-helptext ".concat(x)},h),y?n.a.createElement("button",{className:"clear-button",onClick:y,type:"button"},"Remove"):"",{string:n.a.createElement(i.a,Object.assign({className:"usa-input ".concat(x," ").concat(N[m]?"field-error":""),disabled:b,id:f,name:m},_)),url:n.a.createElement(i.a,Object.assign({className:"usa-input ".concat(x),disabled:b,id:f,name:m},_)),select:n.a.createElement(i.a,Object.assign({},_,{id:f,name:m,className:"usa-select ".concat(x," ").concat(N[m]?"field-error":""),component:"select"}),n.a.createElement("option",{value:""},"-Select-"),w.map((function(e){return n.a.createElement("option",{value:e,key:e},e)}))),radio:n.a.createElement("div",null,n.a.createElement(i.a,Object.assign({},_,{id:f,name:m,className:"usa-radio__input",component:"radio"})),n.a.createElement("label",{className:"usa-radio__label",htmlFor:f},d)),date:n.a.createElement("div",null,n.a.createElement(i.a,{type:"date",id:f,name:m,className:"usa-input ".concat(x),disabled:b}))}[O],p)}),P=t(25),A=t.n(P),I=t(42),T=t(71),U=t.n(T),K=t(40),D=t.n(K),R=["accessLevel","accrualPeriodicity","bureauCode","category","contactEmail","contactPoint","dataQuality","dataLevel","describedBy","describedByType","frequency","homePage","identifier","isPartOf","issued","landingPage","language","license","master","organization","publisher","primaryITInvestmentUIIUSG","programCode","references","rights","spatial","subagency","systemOfRecordsUSG","temporal","theme"],L=function(e){return e.split(" ").join("_").replace(/\W/g,"").toLowerCase()},M=function(e){return JSON.parse(JSON.stringify(e))},z=function(e){var a,t=M(e);return a=e?R.map((function(a){return{key:a,value:e[a]||""}})):[{}],t.extras=a,t},B=function(e){var a=M(e);return a.extras.forEach((function(e){a[e.key]=e.value})),a},V=function(e){var a=M(e);if(e.description&&(a.notes=e.description),e.license_others&&(a.license=e.license_others,delete a.license_others),e.rights_desc&&(a.rights=e.rights_desc,delete a.rights_desc),e.spatial_location_desc&&(a.spatial=e.spatial_location_desc,delete a.spatial_location_desc),e.temporal_start_date){var t=new Date(e.temporal_start_date).toISOString(),r=new Date(e.temporal_end_date).toISOString();a.temporal="".concat(t,"/").concat(r),delete a.temporal_start_date,delete a.temporal_end_date}return a},F=function(e){var a=M(e);if(e.license&&(a.license_others=e.license,a.license="Others"),e.rights&&(a.rights_desc=e.rights,a.rights="false"),e.spatial&&(a.spatial_location_desc=e.spatial,a.spatial=!0),e.temporal){var t=e.temporal.split("/"),r=Object(c.a)(t,2);a.temporal_start_date=r[0],a.temporal_end_date=r[1],a.temporal="true"}return a},Q={createDataset:function(e,a,t,r){var n=M(a);n.modified=new Date,n.notes=a.description,n.bureauCode="015:11",n.programCode="015:001";var l=z(V(a));return l.owner_org=e,l.name=L(a.title),l.url=a.url,D.a.post("".concat(t,"package_create"),l,{headers:{"X-CKAN-API-Key":r}})},updateDataset:function(e,a,t,r){var n=z(V(a));return n.id=e,D.a.post("".concat(t,"package_update"),n,{headers:{"X-CKAN-API-Key":r}})},fetchDataset:function(){var e=Object(I.a)(A.a.mark((function e(a,t,r){var n,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("".concat(t,"package_show?id=").concat(a),{headers:{"X-CKAN-API-Key":r}});case 3:return n=e.sent,l=F(B(n.data.result)),n.data.result=l,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t,r){return e.apply(this,arguments)}}(),fetchTags:function(){var e=Object(I.a)(A.a.mark((function e(a,t,r){var n,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(t,"tag_list?query=").concat(a),e.next=4,D.a.get(n,{headers:{"X-CKAN-API-Key":r}});case 4:return l=e.sent,e.abrupt("return",l.data.result.map((function(e,a){return{id:a,name:e}})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t,r){return e.apply(this,arguments)}}(),createResource:function(e,a,t,r){var n=M(a);return n.package_id=e,a.upload&&(n.mime_type=a.upload.type,n.size=a.upload.size),D.a.post("".concat(t,"resource_create"),a,{headers:{"X-CKAN-API-Key":r}})},helpers:{encodeExtras:z,decodeExtras:B,encodeSupplementalValues:V,decodeSupplementalValues:F,clone:M,safeName:L}},J=(t(109),function(e){var a=e.tags,t=e.name,l=e.helptext,s=e.apiUrl,o=e.apiKey,u=Object(r.useState)([]),m=Object(c.a)(u,2),d=m[0],p=m[1];return n.a.createElement(i.b,{name:t,render:function(e){return n.a.createElement("div",{className:"react-tags-input grid-col-12"},n.a.createElement("div",{id:"tags-error",className:"error-msg hidden",type:"string",placeholder:"",value:""},"Tags are required"),l,n.a.createElement(U.a,{tags:a,suggestions:d,allowNew:!0,ref:n.a.createRef(),onAddition:e.push,onDelete:e.remove,className:"usa-input",onInput:function(){var e=Object(I.a)(A.a.mark((function e(a){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.fetchTags(a,s,o);case 3:t=e.sent,p(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("Unable to fetch tags",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()}))}})}),W=function(e){var a=e.children;return n.a.createElement("p",{className:"usa-helptext"},a)},X=function(e){var a=e.label,t=e.value,r=e.styleClass,l=e.id,s=e.name;return n.a.createElement("div",{className:"form-group ".concat(r)},n.a.createElement(i.a,{type:"radio",className:"usa-radio__input",value:t,name:s,id:l}),n.a.createElement("label",{className:"usa-radio__label",htmlFor:l},a))};X.defaultProps={styleClass:""};var G=X,Y=function(e){var a=e.values,t=e.errors,l=e.currentStep,s=e.apiUrl,i=e.apiKey,o=Object(r.useState)(!0),u=Object(c.a)(o,2),m=u[0],d=u[1],p=Object(r.useState)(!1),h=Object(c.a)(p,2),g=h[0],f=h[1],v=function(){return f(!g)},b=function(e){return e?e.replace(/\s+/g,"-").toLowerCase():""},E=function(e){return n.a.createElement(W,null,e)},y="".concat(window.location.origin,"/dataset/");if(1!==l)return null;var _={title:n.a.createElement(W,null,"Use ",n.a.createElement("a",{href:"https://plainlanguage.gov/"},"everyday language")," to make the dataset easy to find and understand"),description:n.a.createElement(W,null,"Write a description (like an abstract) with enough detail to help a user quickly decide if the asset is of interest. You can use"," ",n.a.createElement("a",{href:"https://www.markdownguide.org/basic-syntax/"},"Markdown Formatting")," here."),select:n.a.createElement(W,null,"If you do not see the Publisher for your dataset listed, please contact"," ",n.a.createElement("a",{href:"mailto:inventory-help@gsa.gov"},"inventory-help@gsa.gov")," for further assistance. Start typing to add tags.")};return n.a.createElement("div",{className:"usa-form-custom"},n.a.createElement("section",{id:"section-basic-mega-menu",className:"site-component-section"},n.a.createElement("p",{className:"site-text-intro"},"The following fields are required metadata for each dataset in an agency\u2019s inventory (",n.a.createElement("a",{href:"https://www.congress.gov/115/plaws/publ435/PLAW-115publ435.pdf"},"per Section 202 of the OPEN Government Data Act)")," ","For more information about the form fields, consult the",n.a.createElement("a",{href:"https://resources.data.gov/resources/dcat-us/"},"DCAT-US Schema."))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"grid-col-12"},n.a.createElement(j,{label:"Title",name:"title",type:"string",placeholder:"",helptext:_.title,value:a.title,errors:t,required:!0}),n.a.createElement("div",null,n.a.createElement(j,{name:"url",type:"string",style:{display:m?"none":"inline"},value:a.url||"".concat(y).concat(b(a.title)),errors:t}),n.a.createElement("span",{className:"dataset_url",style:{display:m?"inline":"none"}},"".concat(y).concat(b(a.title))),n.a.createElement("button",{type:"button",className:"usa-button dataset_url_edit",style:{display:m?"inline":"none"},onClick:function(){d(!1)}},"Edit")))),n.a.createElement("div",{className:"row"},n.a.createElement(j,{label:"Description",name:"description",type:"string",component:"textarea",rows:"6",helptext:_.description,value:a.description,errors:t,required:!0})),n.a.createElement("div",{className:"row"},n.a.createElement("span",{className:"usa-label"},"Tags*"),n.a.createElement(J,{id:"tags-autocomplete-input",tags:a.tags,apiUrl:s,apiKey:i,name:"tags",titleField:"name",required:!0,placeholderText:"Start typing to search",errors:t,helptext:E("Use both technical and non-technical terms to help users find your dataset.")})),n.a.createElement("div",{className:"row"},n.a.createElement(j,{label:"Publisher",name:"publisher",type:"select",choices:["Publisher 1 ","Publisher 2","Publisher 3","Publisher 4"],required:!0,className:"error-msg",helptext:_.select,infoText:"The publishing entity (e.g. your agency) and optionally their parent organization(s).",errors:t})),n.a.createElement("div",{className:"row"},n.a.createElement(j,{label:"Sub Agency",name:"subagency",type:"select",choices:["Sub Agency 1 ","Sub Agency 2","Sub Agency 3","Sub-Agency 4"],className:"error-msg",errors:t})),n.a.createElement("div",{className:"row"},n.a.createElement(j,{label:"Contact Name",name:"contactPoint",type:"string",required:!0,infoText:"This should be the person who can best answer or triage questions about this dataset, either on the metadata or the substance of the data resources.",errors:t})),n.a.createElement("div",{className:"row"},n.a.createElement(j,{label:"Contact Email",name:"contactEmail",type:"string",required:!0,errors:t})),n.a.createElement("div",{className:"row"},n.a.createElement(j,{label:"Unique ID",name:"identifier",type:"string",required:!0,errors:t})),n.a.createElement("div",{className:"row"},n.a.createElement(j,{label:"Public Access level",name:"accessLevel",type:"select",choices:["public","restricted public","non-public"],className:"error-msg",errors:t,required:!0})),n.a.createElement("div",{className:"row"},n.a.createElement(j,{label:"Meets Agency Data Quality",name:"dataQuality",type:"select",choices:["Yes","No"],className:"error-msg",errors:t,required:!0})),n.a.createElement("div",{className:"row"},n.a.createElement(j,{label:"License",name:"license",type:"select",choices:["MIT","Open Source License","Others"],className:"error-msg",errors:t,required:!0}),n.a.createElement(j,{name:"license_others",type:"string",helptext:E("If you selected \u201cOther\u201d, please specify the name of your License*'"),disabled:"Others"!==a.license,errors:t,required:!0})),n.a.createElement("div",{className:"row"},n.a.createElement("span",{className:"usa-label"},"Rights")," ",n.a.createElement("br",null),t&&t.rights&&n.a.createElement("span",{className:"error-msg"},t.rights),n.a.createElement(G,{label:"My dataset is public",name:"rights",errors:t,value:"true",id:"rights_option_1"}),n.a.createElement(G,{label:"My dataset is not public",name:"rights",value:"false",id:"rights_option_2"}),n.a.createElement(j,{name:"rights_desc",type:"string",value:a.rights_desc,errors:t,helptext:E("If your dataset is not public, please add an explanation of rights and feel free to include any instructions on restrictions, or how to access a restricted file (max 255 characters)*"),disabled:"true"===a.rights})),n.a.createElement("div",{className:"row"},n.a.createElement("span",{className:"usa-label"},"Relevant Location*")," ",n.a.createElement("br",null),t&&t.spatial&&n.a.createElement("span",{className:"error-msg"},t.spatial),n.a.createElement(G,{label:"My dataset does not have a spatial component",name:"spatial",value:"false",errors:t,id:"spatial_option_1"}),n.a.createElement(G,{label:"My dataset does have a spatial component",name:"spatial",value:"true",id:"spatial_option_2"}),n.a.createElement(j,{name:"spatial_location_desc",type:"string",value:a.spatial_location_desc,errors:t,helptext:E("If your dataset has a spatial component, please provide location such as place name or latitude/longitude pairs above*"),disabled:"false"===a.spatial})),n.a.createElement("div",{className:"row"},n.a.createElement("span",{className:"usa-label"},"Temporal*",n.a.createElement("div",{className:"tooltip ".concat(g?"show":"")},n.a.createElement(k,{tabIndex:0,height:"20px",width:"20px",style:{marginLeft:".5em"},onClick:function(){return v()},onKeyUp:function(e){13===e.keyCode&&v()}}),n.a.createElement("span",{className:"tooltiptext"},n.a.createElement("span",{tabIndex:0,className:"close",onClick:function(){return f(!1)},role:"button",onKeyDown:function(){return f(!1)}},n.a.createElement("span",{className:"close-tag"},"\xd7")),n.a.createElement("h3",null,"Temporal"),n.a.createElement("p",null,"For example, for a 2010 Census dataset, the temporal extent would cover a period of time beginning 2000-04-02 and ending 2010-04-01."))))," ",n.a.createElement("br",null),t&&t.temporal&&n.a.createElement("span",{className:"error-msg"},t.temporal),n.a.createElement(G,{label:"My dataset does not have a start and end date for the applicability of data",name:"temporal",value:"false",errors:t,id:"temporal_option_1"}),n.a.createElement(G,{label:"My dataset has a start and end date for the applicability of data",name:"temporal",value:"true",errors:t,id:"temporal_option_2"}),n.a.createElement(j,{name:"temporal_start_date",type:"date",id:"temporal_start_date",value:a.temporal_start_date,errors:t,helptext:E("If your dataset has a temporal component, please provide start date for applicability of data above*"),disabled:"false"===a.temporal}),n.a.createElement(j,{name:"temporal_end_date",type:"date",id:"temporal_end_date",value:a.temporal_end_date,errors:t,helptext:E("If your dataset has a temporal component, please provide start date for applicability of data above*"),disabled:"false"===a.temporal})),n.a.createElement("div",{className:"row"},n.a.createElement("button",{type:"button",className:"usa-button usa-button--outline"},"Save as draft"),n.a.createElement("button",{className:"usa-button",type:"submit"},"Save and Continue")))},H=t(3),$=H.b().shape({title:H.c().required("Title is required"),contactPoint:H.c().required("Contact is required"),identifier:H.c().required("Unique ID is required"),contactEmail:H.c().email("Must be valid email").required("Contact email is required"),description:H.c().required("Description is required"),publisher:H.c().required("Publisher is required"),subagency:H.c(),accessLevel:H.c().required("Access level is required"),dataQuality:H.c().required("Data Quality is required"),rights:H.c().required("Rights is required.").test("rights-desc","Please add explanation of rights",(function(e){var a=this.from[0].value;return!("false"===e&&!a.rights_desc)})),rights_desc:H.c(),spatial:H.c().test("spatial-location-extra","Please provide location description.",(function(e){var a=this.from[0].value;return!("true"===e&&!a.spatial_location_desc)})),spatial_location_desc:H.c(),license_others:H.c(),license:H.c().required("License is required").test("license-extra","Please specify the name of your license",(function(e){var a=this.from[0].value;return!("Others"===e&&!a.license_others)})),temporal:H.c().test("temporal-start-end","Please specify start and end date",(function(e){var a=this.from[0].value;return!!("true"!==e||a.temporal_start_date&&a.temporal_end_date)})),temporal_start_date:H.a(),temporal_end_date:H.a()}),Z={title:"Title",contactPoint:"Contact Name",identifier:"Unique ID",contactEmail:"Contact Email",description:"Description",publisher:"Publisher",accessLevel:"Public Access Level",dataQuality:"Access Level",rights:"Rights",spatial:"Spatial",license:"License",temporal:"Temporal"},ee={title:"",description:"",publisher:"",subagency:"",public_access_level:"",data_quality:"",license:"",license_others:"",identifier:"",rights:"false",rights_desc:"",spatial:"false",spatial_location:"false",temporal:"false",temporal_start_date:"",temporal_end_date:"",contact_name:"",contact_email:"",unique_id:"",url:""},ae=function(e){var a=e.currentStep,t=e.handleSteps;return n.a.createElement("div",{className:"app_navigation",id:"app_navigation"},n.a.createElement("div",{tabIndex:"0",role:"button",className:"navsec ".concat(0===a?"active":""),onClick:function(){return t(0)},onKeyUp:function(e){13===e.keyCode&&t(0)},id:"nav-item-first"},n.a.createElement("span",null,"Required Metadata")),n.a.createElement("div",{tabIndex:"0",role:"link",className:"navsec ".concat(1===a?"active":""),onKeyUp:function(e){13===e.keyCode&&t(1)},onClick:function(){t(1)}},n.a.createElement("span",null,"Additional Metadata")),n.a.createElement("div",{tabIndex:"0",role:"button",className:"navsec ".concat(2===a?"active":""),onKeyUp:function(e){13===e.keyCode&&t(2)},onClick:function(){t(2)}},n.a.createElement("span",null,"Resource Upload")))},te=(t(67),function(e){var a=e.type,t=e.errors,r=e.message,l=e.heading,s=t&&t.map((function(e){return n.a.createElement("p",{key:e.name},n.a.createElement("b",null,e.label)," ",e.message)}));return n.a.createElement("div",{className:"usa-prose"},n.a.createElement("div",{className:"usa-alert__body"},n.a.createElement("div",{className:"usa-alert usa-alert--".concat(a)},n.a.createElement("div",{className:"icon"}),n.a.createElement("div",{className:"usa-alert__body"},n.a.createElement("h3",{className:"usa-alert__heading"},l),n.a.createElement("div",{className:"usa-alert__text"},r,s)))))}),re=t(73),ne=t(74),le=t(76),se=t(75),ce=function(e){Object(le.a)(t,e);var a=Object(se.a)(t);function t(){return Object(re.a)(this,t),a.apply(this,arguments)}return Object(ne.a)(t,[{key:"componentDidUpdate",value:function(e){var a=e.isSubmitting,t=e.isValidating,r=e.errors,n=Object.keys(r);if(n.length>0&&a&&!t){var l='[name="'.concat(n[0],'"]');document.querySelector(l).focus()}}},{key:"render",value:function(){return null}}]),t}(n.a.Component),ie=function(e){return Object.keys(e).map((function(a){return{name:a,label:Z[a],message:e[a]}}))},oe=function(e){var a=e.apiUrl,t=e.apiKey,l=e.ownerOrg,s=Object(r.useState)(ee),o=Object(c.a)(s,2),u=o[0],m=o[1],d=Object(r.useState)(0),p=Object(c.a)(d,2),h=p[0],g=p[1],f=Object(r.useState)(),v=Object(c.a)(f,2),b=v[0],E=v[1];return n.a.createElement("div",{className:"grid-container"},n.a.createElement(ae,{currentStep:h,handleSteps:g}),b,n.a.createElement(i.d,{initialValues:u,enableReinitialize:"true",validateOnChange:!1,validateOnBlur:!1,onSubmit:function(e){Q.createDataset(l,e,a,t).then((function(e){E(n.a.createElement(te,{type:"success",heading:"Dataset updated successfully"})),m(e),window.scrollTo(0,0)})).catch((function(e){var a=JSON.stringify(e);E(n.a.createElement(te,{type:"error",heading:"Error saving metadata",message:a})),console.error("CREATE DATASET ERROR",e),window.scrollTo(0,0)}))},validationSchema:$},(function(e){var r=e.values,s=e.handleSubmit,c=e.errors,o=e.isSubmitting,u=e.isValidating;return n.a.createElement("div",null,0===h&&n.a.createElement("h1",{className:"usite-page-title",id:"basic-mega-menu"},"Required Metadata"),1===h&&n.a.createElement("h1",{className:"usite-page-title",id:"basic-mega-menu"},"Additional Metadata"),c&&Object.keys(c).length>0&&n.a.createElement("div",null,n.a.createElement(te,{type:"error",heading:"This form contains invalid entries",errors:ie(c)}),n.a.createElement(ce,{errors:c,isSubmitting:o,isValidating:u})),n.a.createElement(i.c,{onSubmit:s},0===h&&n.a.createElement("div",null,n.a.createElement(Y,{apiKey:t,apiUrl:a,ownerOrg:l,currentStep:1,fetchDatasetsOpts:"false",values:r,errors:c}))))})))},ue=function(e){var a=e.apiUrl,t=e.apiKey,r=e.ownerOrg;return console.log({apiUrl:a,apiKey:t,ownerOrg:r}),n.a.createElement("div",{className:"App"},n.a.createElement(oe,{apiUrl:a,apiKey:t,ownerOrg:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=document.getElementById("root"),de=me.getAttribute("data-apiUrl")||"http://localhost:5000/api/3/action/",pe=me.getAttribute("data-apiKey")||"123",he=me.getAttribute("data-ownerOrg")||"123";s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ue,{apiUrl:de,apiKey:pe,ownerOrg:he})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,a,t){},67:function(e,a,t){},78:function(e,a,t){e.exports=t(110)},83:function(e,a,t){}},[[78,1,2]]]);
//# sourceMappingURL=main.60041a0b.chunk.js.map