{"version":3,"sources":["img/info.svg","components/WrappedField/index.js","api/index.js","components/Autocomplete/index.js","components/HelpText/index.js","components/Radio/index.js","components/LinkIcon/index.js","components/RequiredMetadata/index.js","components/RequiredMetadata/validationSchema.js","components/RequiredMetadata/validationLabels.js","components/RequiredMetadata/defaultValues.js","components/AdditionalMetadata/defaultValues.js","components/AdditionalMetadata/index.js","components/AdditionalMetadata/validationSchema.js","components/ResourceUpload/index.js","components/ResourceUpload/validationSchema.js","components/ResourceUpload/ResourceObject.js","components/Navigation/index.js","components/AlertBox/index.js","components/MetadataForm/index.js","App.js","serviceWorker.js","index.js","img/outbound.svg"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","fill","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref","svgRef","title","props","id","x","y","viewBox","style","enableBackground","xmlSpace","width","height","ref","ForwardRef","forwardRef","WrappedField","useState","toolTipShown","setToolTipShown","toggleToolTip","name","value","label","children","helptext","required","errors","disabled","infoText","onClick","rest","onSelect","formErrors","choices","type","disabledClass","className","htmlFor","marginLeft","tabIndex","onKeyUp","event","keyCode","role","string","url","select","as","component","map","choice","index","optionValue","optionLabel","radio","date","dataDictTypes","require","licenses","clone","param","JSON","parse","stringify","decodeExtras","opts","newOpts","extras","forEach","cur","encodeSupplementalValues","description","notes","tags","tag_string","reduce","acc","publisher_other","publisher","license","license_new","license_others","licenseOther","access_level_comment","rights_desc","spatial_location_desc","spatial","temporal_start_date","start","Date","toISOString","split","end","temporal_end_date","temporal","languageSubTag","language","languageRegSubTag","describedByType","data_dictionary_type","otherDataDictionaryType","isParent","is_parent","parent_dataset","parentDataset","decodeSupplementalValues","n","includes","find","dataDictType","createDataset","apiUrl","apiKey","encoded","slugify","lower","remove","modified","bureau_code","program_code","axios","post","headers","then","res","resVals","data","result","updateDataset","bureauCode","programCode","patchDataset","body","fetchDataset","a","get","decoded","fetchTags","str","row","Promise","reject","fetchOrganizationsForUser","fetchParentDatasets","query","results","createResource","packageId","upload","FormData","append","item","package_id","helpers","Autocomplete","placeholder","fetchOpts","suggestions","setSuggestions","useField","setValue","currentParent","allowNew","React","createRef","onAddition","tag","onDelete","placeholderText","onInput","q","console","warn","render","arrayHelpers","push","HelpText","Radio","styleClass","defaultProps","LinkIcon","src","Outbound","position","display","alt","publishersDictionary","leafPublishers","publisher_5","publisher_4","publisher_3","publisher_2","publisher_1","sort","concat","RequiredMetadata","values","draftSaved","setFieldValue","submitForm","organizations","setOrganizations","useEffect","api","urlDisabled","setUrlDisabled","helpTextify","text","baseUrl","window","location","origin","genUrlFromTitle","helpTexts","rel","href","substring","rows","titleField","rights","e","onKeyDown","marginTop","yup","shape","saveDraft","owner_org","contact_name","when","schema","unique_id","contact_email","email","of","min","max","matches","vocabulary_id","subagency","public_access_level","test","formVals","from","data_quality","spatial_location","dataQualityUSG","themes","describedBy","accrualPeriodicity","landingPage","primaryITInvestmentUIIUSG","references","issued","systemOfRecordsUSG","isPartOf","languages","b","label1","toLowerCase","label2","theme","AdditionalMetadata","selectedLangValue","regions","category","data_dictionary","primary_it_investment_uii","trim","homepage_url","related_documents","deribed_by","described_by_type","system_of_records","OutboundLink","ResourceUpload","resource","mimetype","format","linkToDataIsActive","setLinkToDataActive","uploadDataFileIsActive","setUploadDataFileActive","hidden","aria-hidden","onChange","currentTarget","files","detectedFormat","slice","resourceFormats","savedResources","lastSavedResourceName","Navigation","currentStep","handleSteps","AlertBox","scrollTo","message","heading","error","formatErrors","RequiredMetadataLabels","formatDate","getHours","getMinutes","join","getMonth","getDate","getFullYear","toString","Heading","MetadataForm","ownerOrg","datasetId","shouldFetch","setShouldFetch","curDatasetId","setCurDatasetId","defaultRequiredValues","defaultAdditionalValues","state","formValues","setFormValues","setCurrentStep","alert","setAlert","setDraftSaved","handleError","err","response","request","Api","apiRes","catch","initialValues","enableReinitialize","validateOnChange","validateOnBlur","validateOnMount","onSubmit","validationSchema","RequiredMetadataSchema","handleSubmit","fetchDatasetsOpts","undefined","AdditionalMetadataSchema","ResourceObject","publish","resourceMetadataChanged","apiUrlObject","URL","datasetPageUrl","status","replace","ResourceUploadSchema","App","log","Boolean","hostname","match","root","document","getElementById","getAttribute","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.3a9679af.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M437.02,74.98C388.667,26.629,324.38,0,256,0S123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256    s26.629,132.667,74.98,181.02C123.333,485.371,187.62,512,256,512s132.667-26.629,181.02-74.98    C485.371,388.667,512,324.38,512,256S485.371,123.333,437.02,74.98z M256,70c30.327,0,55,24.673,55,55c0,30.327-24.673,55-55,55    c-30.327,0-55-24.673-55-55C201,94.673,225.673,70,256,70z M326,420H186v-30h30V240h-30v-30h110v180h30V420z\",\n  fill: \"#0050D8\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgInfo = function SvgInfo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    width: \"512px\",\n    height: \"512px\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgInfo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/info.5e143234.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field } from 'formik';\nimport { ReactComponent as Info } from '../../img/info.svg';\nimport '../../css/custom.css';\n\nconst WrappedField = (props) => {\n  const [toolTipShown, setToolTipShown] = useState(false);\n  // eslint-disable-next-line\n  const toggleToolTip = () => setToolTipShown(toolTipShown ? false : true);\n\n  const {\n    value,\n    name,\n    label,\n    children,\n    helptext,\n    required,\n    id,\n    errors,\n    disabled,\n    infoText,\n    onClick,\n    onSelect,\n    ...rest\n  } = props;\n\n  const formErrors = errors || {};\n  const choices = rest.choices || [];\n  const type = rest.type || 'string';\n\n  let disabledClass = '';\n  if (disabled) {\n    disabledClass = 'disabled';\n  } else {\n    disabledClass = '';\n  }\n\n  return (\n    <div className=\"wrapper\">\n      <label className=\"usa-label\" htmlFor={id}>\n        {label}\n        {label && required && <span>*</span>}\n\n        {/* Tooltip */}\n        {infoText && (\n          <div className={`tooltip ${toolTipShown ? 'show' : ''}`}>\n            <Info\n              height=\"20px\"\n              width=\"20px\"\n              style={{ marginLeft: '.5em' }}\n              tabIndex={0}\n              onClick={() => toggleToolTip()}\n              onKeyUp={(event) => {\n                if (event.keyCode === 13) {\n                  toggleToolTip();\n                }\n              }}\n            />\n            <span className=\"tooltiptext\">\n              <span\n                tabIndex={0}\n                className=\"close\"\n                onClick={() => setToolTipShown(false)}\n                role=\"button\"\n                onKeyUp={(event) => {\n                  if (event.keyCode === 13) {\n                    setToolTipShown(false);\n                  }\n                }}\n              >\n                <span className=\"close-tag\">&times;</span>\n              </span>\n              <h3>{label}</h3>\n              <p>{infoText}</p>\n            </span>\n          </div>\n        )}\n      </label>\n\n      {/* Inline Errors */}\n      {formErrors[name] && <span className=\"error-msg\">{formErrors[name]}</span>}\n\n      <div className={`usa-helptext ${disabledClass}`}>{helptext}</div>\n      {onClick ? (\n        <button\n          className=\"clear-button usa-button usa-button--secondary\"\n          onClick={onClick}\n          type=\"button\"\n        >\n          Remove\n        </button>\n      ) : (\n        ''\n      )}\n      {\n        {\n          string: (\n            <Field\n              className={\n                `usa-input ${disabledClass} ` +\n                `${formErrors[name] && 'field-error'} ` +\n                `${onClick && 'has-clear-button'}`\n              }\n              disabled={disabled}\n              id={id}\n              name={name}\n              {...rest}\n            />\n          ),\n          url: (\n            <Field\n              className={`usa-input ${disabledClass} ${onClick && 'has-clear-button'}`}\n              disabled={disabled}\n              id={id}\n              name={name}\n              {...rest}\n            />\n          ),\n          select: (\n            <Field\n              {...rest}\n              as=\"select\"\n              id={id}\n              name={name}\n              disabled={disabled}\n              className={`usa-select ${disabledClass} ${formErrors[name] ? 'field-error' : ''}`}\n              component=\"select\"\n            >\n              <option value=\"\">-Select-</option>\n              {/* eslint-disable */}\n              {choices.map((choice, index) => {\n                const optionValue = choice.value || choice.id || choice;\n                const optionLabel = choice.label || choice.title || choice.name || choice;\n                return (\n                  <option value={optionValue} key={optionValue + index}>\n                    {optionLabel}\n                  </option>\n                );\n              })}\n              {/* eslint-enable */}\n            </Field>\n          ),\n          radio: (\n            <div>\n              <Field {...rest} id={id} name={name} className=\"usa-radio__input\" component=\"radio\" />\n              <label className=\"usa-radio__label\" htmlFor={id}>\n                {label}\n              </label>\n            </div>\n          ),\n          date: (\n            <div>\n              <Field\n                type=\"date\"\n                id={id}\n                name={name}\n                className={`usa-input ${disabledClass}`}\n                disabled={disabled}\n              />\n            </div>\n          ),\n        }[type]\n      }\n\n      {children}\n    </div>\n  );\n};\n\nWrappedField.propTypes = {\n  value: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired, // TODO should be array of possible types'\n  required: PropTypes.bool,\n  label: PropTypes.string,\n  id: PropTypes.string,\n  errors: PropTypes.any, // eslint-disable-line\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  onSelect: PropTypes.func,\n  children: PropTypes.arrayOf(PropTypes.element), // TODO array of els\n  helptext: PropTypes.oneOfType([PropTypes.element, PropTypes.string]), // TODO can be string, HelpText, <p>, etc\n  infoText: PropTypes.oneOfType([PropTypes.element, PropTypes.string]), // TODO can be string, el, etc\n};\n\nexport default WrappedField;\n","import axios from 'axios';\nimport slugify from 'slugify';\n\nconst dataDictTypes = require('../components/AdditionalMetadata/data-dictionary-types');\nconst licenses = require('../components/RequiredMetadata/licenses.json');\n\n/**\n * HELPERS\n */\nconst clone = (param) => JSON.parse(JSON.stringify(param));\n\n/**\n * Decode extras from CKAN 2.8.2 Groups format\n */\nconst decodeExtras = (opts) => {\n  const newOpts = clone(opts);\n  newOpts.extras.forEach((cur) => {\n    newOpts[cur.key] = cur.value;\n  });\n  return newOpts;\n};\n\n// encode values from USMetadata format to match form values\nconst encodeSupplementalValues = (opts) => {\n  const newOpts = clone(opts);\n\n  if (opts.description) {\n    newOpts.notes = opts.description;\n  }\n\n  if (opts.tags && opts.tags.length > 0) {\n    newOpts.tag_string = opts.tags.reduce((acc, cur) => {\n      if (acc.length === 0) {\n        return cur.name;\n      }\n      return `${acc}, ${cur.name}`;\n    }, '');\n  }\n\n  if (opts.publisher_other) {\n    newOpts.publisher = opts.publisher_other;\n    delete newOpts.publisher_other;\n  }\n\n  if (opts.license === 'n/a') {\n    // if the license is selected \"no license\"\n    delete newOpts.license_new;\n    delete newOpts.license_others;\n  } else if (opts.license) {\n    if (opts.license === 'other') newOpts.license_new = opts.licenseOther;\n    else newOpts.license_new = opts.license;\n    delete newOpts.license_others;\n  }\n\n  // if access_level_comment is false use provided description\n  if (opts.access_level_comment === 'false' && opts.rights_desc) {\n    newOpts.access_level_comment = opts.rights_desc;\n    delete newOpts.rights_desc;\n  } else {\n    newOpts.access_level_comment = 'true';\n  }\n\n  if (opts.spatial_location_desc) {\n    newOpts.spatial = opts.spatial_location_desc;\n    delete newOpts.spatial_location_desc;\n  }\n\n  if (opts.temporal_start_date) {\n    const start = new Date(opts.temporal_start_date).toISOString().split('T')[0]; // get yyyy-mm-dd from ISO string\n    const end = new Date(opts.temporal_end_date).toISOString().split('T')[0]; // ditto\n    newOpts.temporal = `${start}/${end}`;\n    delete newOpts.temporal_start_date;\n    delete newOpts.temporal_end_date;\n  } else {\n    delete newOpts.temporal;\n  }\n\n  // Language field should be constructed from language subtag and language\n  // regional subtag:\n  if (opts.languageSubTag) {\n    newOpts.language =\n      opts.languageSubTag + (opts.languageRegSubTag && `-${opts.languageRegSubTag}`);\n  }\n  delete newOpts.languageSubTag;\n  delete newOpts.languageRegSubTag;\n\n  // Data Dictionary Type\n  if (opts.describedByType) {\n    // If it's specified other\n    if (opts.describedByType === 'other') {\n      newOpts.data_dictionary_type = opts.otherDataDictionaryType;\n      delete newOpts.otherDataDictionaryType;\n    } else newOpts.data_dictionary_type = opts.describedByType;\n    delete newOpts.describedByType;\n  }\n\n  if (opts.isParent === 'Yes') {\n    newOpts.is_parent = 'true';\n    delete newOpts.parent_dataset;\n  } else if (opts.isParent === 'No') {\n    newOpts.is_parent = 'false';\n    if (opts.parentDataset) {\n      newOpts.parent_dataset = opts.parentDataset;\n    }\n  } else {\n    delete newOpts.is_parent;\n    delete newOpts.parent_dataset;\n  }\n\n  return newOpts;\n};\n\n// decode values from USMetadata format to match form values\nconst decodeSupplementalValues = (opts) => {\n  const newOpts = clone(opts);\n  if (opts.tag_string) {\n    newOpts.tags = opts.tag_string.split(',').map((n, i) => ({ id: i, name: n }));\n  }\n\n  if (opts.license_new) {\n    if (licenses.map((license) => license.value).includes(opts.license_new)) {\n      newOpts.license = opts.license_new;\n    } else {\n      newOpts.licenseOther = opts.license_new;\n      newOpts.license = 'other';\n    }\n  }\n\n  if (opts.access_level_comment !== 'true') {\n    newOpts.rights_desc = opts.access_level_comment;\n    newOpts.access_level_comment = 'false';\n  }\n\n  if (opts.spatial) {\n    newOpts.spatial_location_desc = opts.spatial;\n    newOpts.spatial = true;\n  }\n\n  if (opts.temporal) {\n    [newOpts.temporal_start_date, newOpts.temporal_end_date] = opts.temporal.split('/');\n    newOpts.temporal = 'true';\n  }\n\n  if (opts.language) {\n    [newOpts.languageSubTag, newOpts.languageRegSubTag] = opts.language.split('-');\n  }\n\n  if (opts.data_dictionary_type) {\n    // Check if the data dictionary type is out of list,\n    // then specify the other input field\n    const selectedDataDictType = dataDictTypes.find((dataDictType) => {\n      return dataDictType.value === opts.data_dictionary_type;\n    });\n    // If it is from the list then the type should be other\n    if (!selectedDataDictType) {\n      newOpts.otherDataDictionaryType = opts.data_dictionary_type;\n      newOpts.describedByType = 'other';\n    } else newOpts.describedByType = opts.data_dictionary_type;\n  }\n\n  if (opts.is_parent === 'true') {\n    newOpts.isParent = 'Yes';\n  } else {\n    newOpts.isParent = 'No';\n  }\n\n  if (opts.parent_dataset) {\n    newOpts.parentDataset = opts.parent_dataset;\n  }\n\n  return newOpts;\n};\n\n/**\n * API CALLS\n */\n\nconst createDataset = (opts, apiUrl, apiKey) => {\n  const encoded = encodeSupplementalValues(opts);\n  encoded.name = slugify(opts.title, { lower: true, remove: /[*+~.()'\"!:@]/g });\n  encoded.modified = new Date();\n  encoded.bureau_code = '015:11';\n  encoded.program_code = '015:001';\n  // encoded.temporal = '2020-12-22/2020-12-22'; // todo encode this\n  // encoded.tag_string = 'tag1, tag2, tag3, tag4'; // TODO make tag string\n  encoded.url = opts.url;\n  return axios\n    .post(`${apiUrl}package_create`, encoded, {\n      headers: {\n        'X-CKAN-API-Key': apiKey,\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    })\n    .then((res) => {\n      // note that we don't return the axios response, we return the result\n      const resVals = res.data.result;\n      const decoded = decodeSupplementalValues(decodeExtras(resVals));\n      return decoded;\n    });\n};\n\nconst createResource = (packageId, opts, apiUrl, apiKey) => {\n  let body;\n  if (opts.upload) {\n    body = new FormData();\n    body.append('package_id', packageId);\n    Object.keys(opts).forEach((item) => {\n      body.append(item, opts[item]);\n    });\n  } else {\n    body = clone(opts);\n    body.package_id = packageId;\n  }\n\n  return axios.post(`${apiUrl}resource_create`, body, {\n    headers: {\n      'X-CKAN-API-Key': apiKey,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n  });\n};\n\nconst fetchDataset = async (id, apiUrl, apiKey) => {\n  return axios\n    .get(`${apiUrl}package_show?id=${id}`, {\n      headers: {\n        'X-CKAN-API-Key': apiKey,\n      },\n    })\n    .then((res) => {\n      // note that we don't return the axios response, we return the result\n      const decoded = decodeSupplementalValues(decodeExtras(res.data.result));\n      decoded.description = decoded.notes;\n      return decoded;\n    });\n};\n\nconst updateDataset = (id, opts, apiUrl, apiKey) => {\n  const encoded = encodeSupplementalValues(opts);\n  encoded.modified = new Date();\n  encoded.notes = opts.description; // TODO not sure what notes is supposed to be\n  encoded.id = id;\n\n  // TODO where do we get these?\n  encoded.bureauCode = '015:11';\n  encoded.programCode = '015:001';\n\n  return axios\n    .post(`${apiUrl}package_update`, encoded, {\n      headers: {\n        'X-CKAN-API-Key': apiKey,\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    })\n    .then((res) => {\n      // note that we don't return the axios response, we return the result\n      const resVals = res.data.result;\n      const decoded = decodeSupplementalValues(decodeExtras(resVals));\n      return decoded;\n    });\n};\n\nconst patchDataset = (id, opts, apiUrl, apiKey) => {\n  const body = Object.assign(opts, { id });\n  return axios.post(`${apiUrl}package_patch`, body, {\n    headers: {\n      'X-CKAN-API-Key': apiKey,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n  });\n};\n\nconst fetchTags = async (str, apiUrl, apiKey) => {\n  try {\n    const url = `${apiUrl}tag_list?query=${str}`;\n    const res = await axios.get(url, {\n      headers: {\n        'X-CKAN-API-Key': apiKey,\n      },\n    });\n    return res.data.result.map((row, i) => ({ id: i, name: row }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nconst fetchOrganizationsForUser = async (apiUrl, apiKey) => {\n  try {\n    const url = `${apiUrl}organization_list_for_user`;\n    const res = await axios.get(url, {\n      headers: {\n        'X-CKAN-API-Key': apiKey,\n      },\n    });\n    return res.data.result;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nconst fetchParentDatasets = async (query, apiUrl, apiKey) => {\n  try {\n    // the space belongs here q= solr query string including indexed extras\n    const url = `${apiUrl}package_search?q=${query} extras_is_parent=true`;\n    const res = await axios.get(url, {\n      headers: {\n        'X-CKAN-API-Key': apiKey,\n      },\n    });\n    return (res.data.result.results || []).map(({ id, name, title }) => {\n      return {\n        id: name || id,\n        name: title,\n      };\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nexport default {\n  createDataset,\n  updateDataset,\n  patchDataset,\n  fetchDataset,\n  fetchTags,\n  fetchOrganizationsForUser,\n  fetchParentDatasets,\n  createResource,\n  helpers: {\n    decodeExtras,\n    clone,\n  },\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FieldArray, useField } from 'formik';\nimport ReactTags from 'react-tag-autocomplete';\nimport './index.css';\n\nconst Autocomplete = (props) => {\n  const { tags, name, helptext, placeholder, apiUrl, apiKey, errors, fetchOpts, type } = props;\n  const [suggestions, setSuggestions] = useState([]);\n  const [field, meta, helpers] = useField(name); // eslint-disable-line\n  const { setValue } = helpers;\n\n  if (type === 'string') {\n    const onAddition = (tag) => {\n      setValue(tag.id);\n    };\n\n    const onDelete = () => {\n      setValue('');\n    };\n\n    const currentParent = props.value ? [{ name: props.value }] : [];\n\n    return (\n      <div className={`react-tags-input grid-col-12 ${errors && errors[name] && 'field-error'}`}>\n        <div className=\"usa-helptext\">{helptext}</div>\n        <ReactTags\n          tags={currentParent}\n          suggestions={suggestions}\n          allowNew\n          ref={React.createRef()}\n          onAddition={onAddition}\n          onDelete={onDelete}\n          className=\"usa-input\"\n          placeholderText={placeholder}\n          onInput={async (q) => {\n            try {\n              const res = await fetchOpts(q, apiUrl, apiKey);\n              setSuggestions(res);\n            } catch (e) {\n              console.warn('Unable to fetch autocomplete options', e); // eslint-disable-line no-console\n            }\n          }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <FieldArray\n      name={name}\n      render={(arrayHelpers) => (\n        <div className={`react-tags-input grid-col-12 ${errors && errors[name] && 'field-error'}`}>\n          {errors && errors[name] && (\n            <span className=\"error-msg\">\n              {errors[name]}\n              <br />\n            </span>\n          )}\n          {helptext}\n          <ReactTags\n            tags={tags}\n            suggestions={suggestions}\n            allowNew\n            ref={React.createRef()}\n            onAddition={arrayHelpers.push}\n            onDelete={arrayHelpers.remove}\n            className=\"usa-input\"\n            placeholderText={placeholder}\n            onInput={async (q) => {\n              try {\n                const res = await fetchOpts(q, apiUrl, apiKey);\n                setSuggestions(res);\n              } catch (e) {\n                console.warn('Unable to fetch autocomplete options', e); // eslint-disable-line no-console\n              }\n            }}\n          />\n        </div>\n      )}\n    />\n  );\n};\n\nAutocomplete.propTypes = {\n  apiUrl: PropTypes.string.isRequired,\n  apiKey: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  type: PropTypes.any, // eslint-disable-line\n  value: PropTypes.any, // eslint-disable-line\n  tags: PropTypes.any, // eslint-disable-line\n  helptext: PropTypes.any, // eslint-disable-line\n  errors: PropTypes.any, // eslint-disable-line\n  fetchOpts: PropTypes.any, // eslint-disable-line\n};\n\nexport default Autocomplete;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst HelpText = (props) => {\n  const { children } = props;\n  return <span className=\"usa-helptext\">{children}</span>;\n};\n\nHelpText.propTypes = {\n  children: PropTypes.any, // eslint-disable-line\n};\n\nexport default HelpText;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field } from 'formik';\n\nconst Radio = ({ label, value, styleClass, id, name }) => {\n  return (\n    <div className={`form-group ${styleClass}`}>\n      <Field type=\"radio\" className=\"usa-radio__input\" value={value} name={name} id={id} />\n\n      <label className=\"usa-radio__label\" htmlFor={id}>\n        {label}\n      </label>\n    </div>\n  );\n};\n\nRadio.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  styleClass: PropTypes.string,\n  value: PropTypes.string,\n};\n\nRadio.defaultProps = {\n  styleClass: '',\n};\n\nexport default Radio;\n","import React from 'react';\nimport Outbound from '../../img/outbound.svg';\n\nconst LinkIcon = (props) => (\n  <img\n    src={Outbound}\n    height=\"20px\"\n    position=\"relative\"\n    display=\"inline-block\"\n    alt=\"Link opens in new tab\"\n    {...props}\n  />\n);\n\nexport default LinkIcon;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport slugify from 'slugify';\nimport WrappedField from '../WrappedField';\nimport api from '../../api';\nimport Autocomplete from '../Autocomplete';\nimport { ReactComponent as Info } from '../../img/info.svg';\nimport HelpText from '../HelpText';\nimport Radio from '../Radio';\nimport LinkIcon from '../LinkIcon';\n\nconst publishersDictionary = require('./publishers.json');\nconst licenses = require('./licenses.json');\n\nconst leafPublishers = publishersDictionary\n  .map((item) => {\n    return (\n      item.publisher_5 ||\n      item.publisher_4 ||\n      item.publisher_3 ||\n      item.publisher_2 ||\n      item.publisher_1 ||\n      item.publisher\n    );\n  })\n  .sort()\n  .concat(['Other']);\n\nconst RequiredMetadata = (props) => {\n  const { values, errors, apiUrl, apiKey, draftSaved, setFieldValue, submitForm } = props;\n\n  const [organizations, setOrganizations] = useState([]);\n  useEffect(() => {\n    api.fetchOrganizationsForUser(apiUrl, apiKey).then((data) => {\n      setOrganizations(data);\n    });\n  }, []);\n\n  // RADIO / SELECT Values\n  const [urlDisabled, setUrlDisabled] = useState(true);\n  const [toolTipShown, setToolTipShown] = useState(false);\n  // eslint-disable-next-line\n  const toggleToolTip = () => setToolTipShown(toolTipShown ? false : true);\n\n  const helpTextify = (text) => {\n    return <HelpText>{text}</HelpText>;\n  };\n  const baseUrl = `${window.location.origin}/dataset/`;\n\n  const genUrlFromTitle = (title) => {\n    return `${baseUrl}${slugify(title || '', {\n      lower: true,\n      remove: /[*+~.()'\"!:@]/g,\n    })}`;\n  };\n\n  // Handles the event when the user clicks on edit/update button for url\n  const editUpdateHandler = () => {\n    const { url } = values;\n    //  Means in update mode\n    if (!urlDisabled) {\n      if (url) {\n        values.url = `${baseUrl}${slugify(url.substring(baseUrl.length, url.length))}`;\n      }\n    } else if (!values.url) values.url = genUrlFromTitle(values.title);\n    setUrlDisabled(!urlDisabled);\n  };\n\n  const helpTexts = {\n    title: (\n      <HelpText>\n        Use{' '}\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://plainlanguage.gov/\">\n          everyday language <LinkIcon height=\"15px\" />\n        </a>\n        to make the dataset easy to find and understand\n      </HelpText>\n    ),\n    description: (\n      <HelpText>\n        Write a description (like an abstract) with enough detail to help a user quickly decide if\n        the asset is of interest. You can use{' '}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://www.markdownguide.org/basic-syntax/\"\n        >\n          Markdown Formatting <LinkIcon height=\"15px\" />\n        </a>\n        here.\n      </HelpText>\n    ),\n    select: (\n      <HelpText>\n        If you do not see the Publisher for your dataset listed, please contact{' '}\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"mailto:inventory-help@gsa.gov\">\n          inventory-help@gsa.gov <LinkIcon height=\"15px\" />\n        </a>\n        for further assistance.\n      </HelpText>\n    ),\n  };\n\n  return (\n    <div className=\"usa-form-custom\">\n      <section id=\"section-basic-mega-menu\" className=\"site-component-section\">\n        <p className=\"site-text-intro\">\n          The following fields are required metadata for each dataset in an agency’s inventory (\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://www.congress.gov/115/plaws/publ435/PLAW-115publ435.pdf\"\n          >\n            per Section 202 of the OPEN Government Data Act) <LinkIcon />{' '}\n          </a>\n          For more information about the form fields, consult the\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://resources.data.gov/resources/dcat-us/\"\n          >\n            DCAT-US Schema. <LinkIcon />\n          </a>\n        </p>\n      </section>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Title\"\n            name=\"title\"\n            type=\"string\"\n            placeholder=\"\"\n            helptext={helpTexts.title}\n            value={values.title}\n            errors={errors}\n            required\n          />\n\n          <div className={urlDisabled ? '' : 'dynamic-url'}>\n            <WrappedField\n              name=\"url\"\n              type=\"url\"\n              style={{ display: urlDisabled ? 'none' : 'inline' }}\n              value={values.url}\n              errors={errors}\n            />\n            <span className=\"dataset_url\" style={{ display: urlDisabled ? 'inline' : 'none' }}>\n              {values.url || genUrlFromTitle(values.title)}\n            </span>\n\n            <button\n              // TODO - remove display: 'none' when url feature is ready\n              style={{ display: 'none' }}\n              type=\"button\"\n              className=\"usa-button dataset_url_edit\"\n              onClick={editUpdateHandler}\n            >\n              {urlDisabled ? 'Edit' : 'Update'}\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <WrappedField\n          label=\"Description\"\n          name=\"description\"\n          type=\"string\"\n          component=\"textarea\"\n          rows=\"6\"\n          helptext={helpTexts.description}\n          value={values.description}\n          errors={errors}\n          required\n        />\n      </div>\n      <div className=\"row\">\n        <span className=\"usa-label\">Tags*</span>\n        <Autocomplete\n          id=\"tags-autocomplete-input\"\n          tags={values.tags}\n          apiUrl={apiUrl}\n          apiKey={apiKey}\n          fetchOpts={api.fetchTags}\n          name=\"tags\"\n          titleField=\"name\"\n          required\n          placeholder=\"Start typing to search\"\n          errors={errors}\n          helptext={helpTextify(\n            'Use both technical and non-technical terms to help users find your dataset.'\n          )}\n        />\n      </div>\n      <div className=\"row\">\n        <WrappedField\n          label=\"Organization\"\n          name=\"owner_org\"\n          type=\"select\"\n          choices={organizations}\n          required\n          className=\"error-msg\"\n          errors={errors}\n        />\n      </div>\n      <div className=\"row\">\n        <WrappedField\n          label=\"Publisher\"\n          name=\"publisher\"\n          type=\"select\"\n          choices={leafPublishers}\n          required\n          className=\"error-msg\"\n          helptext={helpTexts.select}\n          infoText=\"The publishing entity (e.g. your agency) and optionally their parent organization(s).\"\n          errors={errors}\n        />\n        <WrappedField\n          name=\"publisher_other\"\n          type=\"string\"\n          helptext={helpTextify(\n            `If you selected “Other”, please specify the name of your Publisher`\n          )}\n          disabled={values.publisher !== 'Other'}\n          errors={errors}\n          required\n        />\n      </div>\n      <div className=\"row\">\n        <WrappedField label=\"Sub Agency\" name=\"subagency\" type=\"string\" required errors={errors} />\n      </div>\n      <div className=\"row\">\n        <WrappedField\n          label=\"Contact Name\"\n          name=\"contact_name\"\n          type=\"string\"\n          required\n          infoText=\"This should be the person who can best answer or triage questions about this dataset, either on the metadata or the substance of the data resources.\"\n          errors={errors}\n        />\n      </div>\n      <div className=\"row\">\n        <WrappedField\n          label=\"Contact Email\"\n          name=\"contact_email\"\n          type=\"string\"\n          required\n          errors={errors}\n        />\n      </div>\n      <div className=\"row\">\n        <WrappedField\n          label=\"Unique ID\"\n          name=\"unique_id\"\n          type=\"string\"\n          required\n          infoText=\"This is the ID number or code used within your agency to differentiate this dataset from other datasets.\"\n          errors={errors}\n        />\n      </div>\n      <div className=\"row\">\n        <WrappedField\n          label=\"Public Access level\"\n          name=\"public_access_level\"\n          type=\"select\"\n          choices={[\n            {\n              value: 'public',\n              id: 'choice-public',\n              label:\n                'Public - this dataset can be made publicly available to all without restrictions',\n            },\n            {\n              value: 'restricted public',\n              id: 'choice-restricted-public',\n              label: 'Restricted Public - this dataset is available under certain use restrictions',\n            },\n            {\n              value: 'non-public',\n              id: 'choice-non-public',\n              label: 'Non-Public - this dataset is not available to members of the public',\n            },\n          ]}\n          className=\"error-msg\"\n          errors={errors}\n          required\n        />\n      </div>\n      <div className=\"row\">\n        <WrappedField\n          label=\"License\"\n          name=\"license\"\n          type=\"select\"\n          choices={licenses}\n          className=\"error-msg\"\n          errors={errors}\n          required\n        />\n        <WrappedField\n          name=\"licenseOther\"\n          type=\"string\"\n          helptext={helpTextify(\n            `If you selected “Other”, please specify the name of your License*'`\n          )}\n          disabled={values.license !== 'other'}\n          errors={errors}\n          required\n        />\n      </div>\n      <div className=\"row\">\n        <span className=\"usa-label\">Rights</span> <br />\n        {errors && errors.rights && <span className=\"error-msg\">{errors.rights}</span>}\n        <Radio\n          label=\"My dataset is public\"\n          name=\"access_level_comment\"\n          errors={errors}\n          value=\"true\"\n          id=\"rights_option_1\"\n        />\n        <Radio\n          label=\"My dataset is not public\"\n          name=\"access_level_comment\"\n          value=\"false\"\n          id=\"rights_option_2\"\n        />\n        <WrappedField\n          name=\"rights_desc\"\n          type=\"string\"\n          value={values.rights_desc}\n          errors={errors}\n          helptext={helpTextify(\n            'If your dataset is not public, please add an explanation of rights and feel free to include any instructions on restrictions, or how to access a restricted file (max 255 characters)*'\n          )}\n          disabled={values.access_level_comment === 'true'}\n        />\n      </div>\n\n      <div className=\"row\">\n        <span className=\"usa-label\">Relevant Location*</span> <br />\n        {errors && errors.spatial && <span className=\"error-msg\">{errors.spatial}</span>}\n        <Radio\n          label=\"My dataset does not have a spatial component\"\n          name=\"spatial\"\n          value=\"false\"\n          errors={errors}\n          id=\"spatial_option_1\"\n        />\n        <Radio\n          label=\"My dataset does have a spatial component\"\n          name=\"spatial\"\n          value=\"true\"\n          id=\"spatial_option_2\"\n        />\n        <WrappedField\n          name=\"spatial_location_desc\"\n          type=\"string\"\n          value={values.spatial_location_desc}\n          errors={errors}\n          helptext={helpTextify(\n            'If your dataset has a spatial component, please provide location such as place name or latitude/longitude pairs above*'\n          )}\n          disabled={values.spatial === 'false'}\n        />\n      </div>\n\n      <div className=\"row\">\n        <span className=\"usa-label\">\n          Temporal*\n          <div className={`tooltip ${toolTipShown ? 'show' : ''}`}>\n            <Info\n              tabIndex={0}\n              height=\"20px\"\n              width=\"20px\"\n              style={{ marginLeft: '.5em' }}\n              onClick={() => toggleToolTip()}\n              onKeyUp={(e) => {\n                if (e.keyCode === 13) {\n                  toggleToolTip();\n                }\n              }}\n            />\n            <span className=\"tooltiptext\">\n              <span\n                tabIndex={0}\n                className=\"close\"\n                onClick={() => setToolTipShown(false)}\n                role=\"button\"\n                onKeyDown={() => setToolTipShown(false)}\n              >\n                <span className=\"close-tag\">&times;</span>\n              </span>\n              <h3>Temporal</h3>\n              <p>\n                For example, for a 2010 Census dataset, the temporal extent would cover a period of\n                time beginning 2000-04-02 and ending 2010-04-01.\n              </p>\n            </span>\n          </div>\n        </span>{' '}\n        <br />\n        {errors && errors.temporal && <span className=\"error-msg\">{errors.temporal}</span>}\n        <Radio\n          label=\"My dataset does not have a start and end date for the applicability of data\"\n          name=\"temporal\"\n          value=\"false\"\n          errors={errors}\n          id=\"temporal_option_1\"\n        />\n        <Radio\n          label=\"My dataset has a start and end date for the applicability of data\"\n          name=\"temporal\"\n          value=\"true\"\n          errors={errors}\n          id=\"temporal_option_2\"\n        />\n        <WrappedField\n          name=\"temporal_start_date\"\n          type=\"date\"\n          id=\"temporal_start_date\"\n          value={values.temporal_start_date}\n          errors={errors}\n          helptext={helpTextify(\n            'If your dataset has a temporal component, please provide start date for applicability of data above*'\n          )}\n          disabled={values.temporal === 'false'}\n        />\n        <WrappedField\n          name=\"temporal_end_date\"\n          type=\"date\"\n          id=\"temporal_end_date\"\n          value={values.temporal_end_date}\n          errors={errors}\n          helptext={helpTextify(\n            'If your dataset has a temporal component, please provide end date for applicability of data above*'\n          )}\n          disabled={values.temporal === 'false'}\n        />\n      </div>\n\n      <div className=\"row\">\n        <button\n          style={{ display: 'none' }}\n          className=\"usa-button usa-button--outline\"\n          type=\"button\"\n          onClick={async () => {\n            await setFieldValue('saveDraft', true);\n            submitForm();\n          }}\n        >\n          Save draft\n        </button>\n        <button\n          className=\"usa-button\"\n          type=\"button\"\n          onClick={async () => {\n            await setFieldValue('saveDraft', false);\n            submitForm();\n          }}\n        >\n          Save and Continue\n        </button>\n      </div>\n      {draftSaved && (\n        <div style={{ marginTop: '1rem' }}>\n          <div className=\"col-md-12 text-mint\">\n            <i>\n              Draft saved:\n              <br />[{draftSaved}]\n            </i>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nRequiredMetadata.propTypes = {\n  setFieldValue: PropTypes.func,\n  submitForm: PropTypes.func,\n  draftSaved: PropTypes.string,\n  apiUrl: PropTypes.string.isRequired,\n  apiKey: PropTypes.string.isRequired,\n  values: PropTypes.any, // eslint-disable-line\n  errors: PropTypes.any, // eslint-disable-line\n};\n\nexport default RequiredMetadata;\n","import * as yup from 'yup';\n\nexport default yup.object().shape({\n  saveDraft: yup.boolean(),\n  title: yup.string().required('Title is required'),\n  owner_org: yup.string().required('Organization is required'),\n  contact_name: yup.string().when('saveDraft', (saveDraft, schema) => {\n    return saveDraft ? schema : schema.required('Contact is required');\n  }),\n  unique_id: yup.string().when('saveDraft', (saveDraft, schema) => {\n    return saveDraft ? schema : schema.required('Unique ID is required');\n  }),\n  contact_email: yup.string().when('saveDraft', (saveDraft, schema) => {\n    return saveDraft\n      ? schema\n      : schema.email('Must be valid email').required('Contact email is required');\n  }),\n  description: yup.string().when('saveDraft', (saveDraft, schema) => {\n    return saveDraft ? schema : schema.required('Description is required');\n  }),\n  tags: yup.array().when('saveDraft', (saveDraft, schema) => {\n    return saveDraft\n      ? schema\n      : schema\n          .of(\n            yup.object().shape({\n              name: yup\n                .string()\n                .min(2)\n                .max(100)\n                .matches(/[a-zA-Z0-9-_.]+/),\n              vocabulary_id: yup.string(),\n            })\n          )\n          .required(\n            'Tags are required. Please, provide at least one tag. Note that a tag name must be a string between 2 and 100 characters long containing only alphanumeric characters and -, _ and .'\n          );\n  }),\n  publisher: yup.string().when('saveDraft', (saveDraft, schema) => {\n    return saveDraft ? schema : schema.required('Publisher is required');\n  }),\n  subagency: yup.string(),\n  public_access_level: yup.string().when('saveDraft', (saveDraft, schema) => {\n    return saveDraft ? schema : schema.required('Access level is required');\n  }),\n  access_level_comment: yup.string().when('saveDraft', (saveDraft, schema) => {\n    return saveDraft\n      ? schema\n      : schema\n          .required('Rights is required.')\n          .test('rights-desc', 'Please add explanation of rights', function validate(value) {\n            const formVals = this.from[0].value;\n            if (value === 'false') {\n              if (!formVals.rights_desc) return false;\n            }\n            return true;\n          });\n  }),\n  rights_desc: yup.string(),\n  spatial: yup\n    .string()\n    .test('spatial-location-extra', 'Please provide location description.', function validate(\n      value\n    ) {\n      const formVals = this.from[0].value;\n      if (value === 'true') {\n        if (!formVals.spatial_location_desc) return false;\n      }\n      return true;\n    }),\n  spatial_location_desc: yup.string(),\n  licenseOther: yup\n    .string()\n    .required('License is required')\n    .url('License should be a valid url')\n    .when('license', (license, schema) => {\n      return license === 'other' ? schema : yup.string();\n    }),\n  license: yup.string().when('saveDraft', (saveDraft, schema) => {\n    return saveDraft ? schema : schema.required('License is required');\n  }),\n  temporal: yup\n    .string()\n    .test('temporal-start-end', 'Please specify start and end date', function validate(value) {\n      const formVals = this.from[0].value;\n      if (value === 'true') {\n        if (!formVals.temporal_start_date || !formVals.temporal_end_date) return false;\n      }\n      return true;\n    }),\n  temporal_start_date: yup.date(),\n  temporal_end_date: yup.date(),\n});\n","export default {\n  title: 'Title',\n  contact_name: 'Contact Name',\n  unique_id: 'Unique ID',\n  contact_email: 'Contact Email',\n  description: 'Description',\n  publisher: 'Publisher',\n  public_access_level: 'Public Access Level',\n  data_quality: 'Access Level',\n  access_level_comment: 'Rights',\n  spatial: 'Spatial',\n  license: 'License',\n  licenseOther: 'License',\n  temporal: 'Temporal',\n  tags: 'Tags',\n  owner_org: 'Organization',\n};\n","export default {\n  access_level_comment: 'true',\n  spatial: 'false',\n  spatial_location: 'false',\n  temporal: 'false',\n};\n","export default {\n  dataQualityUSG: '',\n  themes: '',\n  describedBy: '',\n  describedByType: '',\n  accrualPeriodicity: '',\n  landingPage: '',\n  languageSubTag: 'en',\n  languageRegSubTag: 'US',\n  primaryITInvestmentUIIUSG: '',\n  references: '',\n  issued: '',\n  systemOfRecordsUSG: '',\n  isPartOf: '',\n  isParent: '',\n  parentDataset: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport WrappedField from '../WrappedField';\nimport HelpText from '../HelpText';\nimport Autocomplete from '../Autocomplete';\nimport LinkIcon from '../LinkIcon';\nimport api from '../../api';\n\nconst languages = require('./languages.json');\nconst dataDictTypes = require('./data-dictionary-types').sort((a, b) => {\n  const label1 = (a.label || '').toLowerCase();\n  const label2 = (b.label || '').toLowerCase();\n  if (label1 < label2) return -1;\n  if (label1 > label2) return 1;\n  return 0;\n});\n\nconst helpTexts = {\n  theme: <HelpText>Examples include: vegetables, non_starchy, green.</HelpText>,\n  describedBy: (\n    <HelpText>\n      Provide a link to data dictionary or other reference that helps users understand the dataset.\n      Example: &quot;http://www.agency.gov/vegetables/vegetables-all.zip&quot;\n    </HelpText>\n  ),\n  landingPage: (\n    <HelpText>\n      This landing page should contain or be linked to all resources tied to the dataset. Example:\n      &quot;http://www.agency.gov/vegetables&quot;\n    </HelpText>\n  ),\n  primaryITInvestmentUIIUSG: (\n    <HelpText>\n      This can often be found in Exhibit 53 documents, and takes the form ###-#########. Learn more\n      about Exhibit 53 documents at{' '}\n      <a\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        href=\"https://www.whitehouse.gov/wp-content/uploads/2018/06/fy-2020-it-budget-guidance.pdf\"\n      >\n        this pdf <LinkIcon height=\"15px\" />\n      </a>\n    </HelpText>\n  ),\n  references: (\n    <HelpText>\n      Related documents such as technical information about a dataset, developer documentation, etc.\n      Format for entry is: http://www.agency.gov/fruits/fruits.csv,\n      http://www.agency.gov/legumes/legumes\n    </HelpText>\n  ),\n  systemOfRecordsUSG: (\n    <HelpText>\n      If the dataset is a designated System of Records under the Privacy Act of 1974, provide the\n      URL for the System of Recors Notice\n    </HelpText>\n  ),\n};\n\nconst AdditionalMetadata = (props) => {\n  const { values, apiUrl, apiKey, draftSaved, setFieldValue, submitForm } = props;\n\n  const getRegionalChoices = (selectedLangValue) => {\n    const lang = languages.find((item) => item.value === selectedLangValue) || {};\n    return lang.regions;\n  };\n\n  return (\n    <div className=\"usa-form-custom\">\n      <section id=\"section-basic-mega-menu\" className=\"site-component-section\">\n        <p className=\"site-text-intro\">\n          Please note that the additional metadata that you upload will help public users better\n          find and use this dataset. Not all of these criteria will apply to each dataset, so feel\n          free to only answer what applies. For more information about the form fields, consult the{' '}\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://resources.data.gov/schemas/dcat-us/v1.1/\"\n          >\n            DCAT-US Schema <LinkIcon />\n          </a>\n        </p>\n      </section>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Meets Agency Data Quality\"\n            name=\"dataQualityUSG\"\n            type=\"select\"\n            choices={['Yes', 'No']}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Themes\"\n            name=\"category\"\n            type=\"string\"\n            helptext=\"Main thematic category of the dataset.  If this dataset should be included in geoplatform.gov, please enter “geospatial” as the theme.  Start typing to add themes.\"\n            infoText={helpTexts.theme}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Data Dictionary URL\"\n            name=\"data_dictionary\"\n            type=\"string\"\n            helptext='Please include \"http://\" at the beginning of your URL.'\n            infoText={helpTexts.describedBy}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Data Dictionary Type\"\n            name=\"describedByType\"\n            value={values.describedByType}\n            type=\"select\"\n            choices={dataDictTypes}\n          />\n          <WrappedField\n            disabled={values.describedByType !== 'other'}\n            name=\"otherDataDictionaryType\"\n            value={values.otherDataDictionaryType}\n            type=\"string\"\n            helptext=\"If you selected “Other”, please specify your Data Dictionary Type\"\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Data Publishing Frequency\"\n            name=\"accrual_periodicity\"\n            type=\"select\"\n            choices={[\n              'Decennial',\n              'Quadrennial',\n              'Annual',\n              'Bimonthly',\n              'Semiweekly',\n              'Daily',\n              'Biweekly',\n              'Semiannual',\n              'Biennial',\n              'Triennial',\n              'Three times a week',\n              'Three times a month',\n              'Every five years',\n              'Every eight years',\n              'Continuously updated',\n              'Monthly',\n              'Quarterly',\n              'Semimonthly',\n              'Three times a year',\n              'Weekly',\n              'Hourly',\n              'Irregular',\n            ]}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Dataset Landing Page URL\"\n            name=\"homepage_url\"\n            type=\"string\"\n            helptext='Please include \"http://\" at the beginning of your URL.'\n            infoText={helpTexts.landingPage}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Language - Language Subtag\"\n            name=\"languageSubTag\"\n            value={values.languageSubTag}\n            type=\"select\"\n            choices={languages}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            disabled={!values.languageSubTag}\n            label=\"Language - Regional Subtag\"\n            name=\"languageRegSubTag\"\n            value={values.languageRegSubTag}\n            type=\"select\"\n            choices={getRegionalChoices(values.languageSubTag)}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Dataset's IT Unique Investment Identifier\"\n            name=\"primary_it_investment_uii\"\n            type=\"string\"\n            infoText={helpTexts.primaryITInvestmentUIIUSG}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Related Documents\"\n            name=\"related_documents\"\n            type=\"string\"\n            infoText={helpTexts.references}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Release Date\"\n            name=\"release_date\"\n            type=\"date\"\n            infoText={helpTexts.references}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"System of Records Notice URL\"\n            name=\"system_of_records\"\n            type=\"string\"\n            infoText={helpTexts.systemOfRecordsUSG}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"grid-col-12\">\n          <WrappedField\n            label=\"Is parent dataset\"\n            name=\"isParent\"\n            type=\"select\"\n            choices={['Yes', 'No']}\n          />\n        </div>\n      </div>\n      {values.isParent === 'No' && (\n        <div className=\"row\">\n          <div className=\"grid-col-12\">\n            <span className=\"usa-label\">Select Parent Dataset</span>\n            <Autocomplete\n              label=\"Select Parent Dataset\"\n              name=\"parentDataset\"\n              type=\"string\"\n              value={values.parentDataset}\n              placeholder=\"Select parent dataset\"\n              helptext=\"Start typing to see list of matching datasets by title\"\n              fetchOpts={api.fetchParentDatasets}\n              apiUrl={apiUrl}\n              apiKey={apiKey}\n            />\n          </div>\n        </div>\n      )}\n      <div className=\"row\">\n        <button\n          style={{ display: 'none' }}\n          className=\"usa-button usa-button--outline\"\n          type=\"button\"\n          onClick={async () => {\n            await setFieldValue('saveDraft', true);\n            submitForm();\n          }}\n        >\n          Save draft\n        </button>\n        <button\n          className=\"usa-button\"\n          type=\"button\"\n          onClick={async () => {\n            await setFieldValue('saveDraft', false);\n            submitForm();\n          }}\n        >\n          Save and Continue\n        </button>\n      </div>\n      {draftSaved && (\n        <div style={{ marginTop: '1rem' }}>\n          <div className=\"col-md-12 text-mint\">\n            <i>\n              Draft saved:\n              <br />[{draftSaved}]\n            </i>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nAdditionalMetadata.propTypes = {\n  setFieldValue: PropTypes.func,\n  submitForm: PropTypes.func,\n  draftSaved: PropTypes.string,\n  apiUrl: PropTypes.string,\n  apiKey: PropTypes.string,\n  errors: PropTypes.any, // eslint-disable-line\n  values: PropTypes.shape({\n    dataQualityUSG: PropTypes.string,\n    theme: PropTypes.string,\n    describedBy: PropTypes.string,\n    describedByType: PropTypes.string,\n    otherDataDictionaryType: PropTypes.string,\n    accrualPeriodicity: PropTypes.string,\n    landingPage: PropTypes.string,\n    languageSubTag: PropTypes.string,\n    languageRegSubTag: PropTypes.string,\n    primaryITInvestmentUIIUSG: PropTypes.string,\n    references: PropTypes.string,\n    issued: PropTypes.string,\n    systemOfRecordsUSG: PropTypes.string,\n    isPartOf: PropTypes.string,\n    isParent: PropTypes.string,\n    parentDataset: PropTypes.string,\n  }),\n};\n\nexport default AdditionalMetadata;\n","import * as yup from 'yup';\n\nexport default yup.object().shape({\n  dataQualityUSG: yup.string(),\n  category: yup.string(),\n  data_dictionary: yup.string().url(),\n  data_dictionary_type: yup.string(),\n  primary_it_investment_uii: yup\n    .string()\n    .trim()\n    .matches(/^[0-9]{3}-[0-9]{9}$/, 'uii should match format: 000-000000000'),\n  homepage_url: yup.string().url(),\n  related_documents: yup.string(),\n  deribed_by: yup.string().url(),\n  described_by_type: yup.string(),\n  system_of_records: yup.string(),\n});\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport WrappedField from '../WrappedField';\nimport resourceFormats from './resource_formats.json';\nimport Outbound from '../../img/outbound.svg';\n\nconst OutboundLink = (props) => (\n  <img\n    src={Outbound}\n    height=\"20px\"\n    position=\"relative\"\n    display=\"inline-block\"\n    alt=\"Link opens in new tab\"\n    {...props}\n  />\n);\n\nconst ResourceUpload = (props) => {\n  const { values, setFieldValue, submitForm, draftSaved } = props; // eslint-disable-line\n  const resource = values.resource || {};\n  const { url, upload, name, description, mimetype, format } = resource;\n\n  const [linkToDataIsActive, setLinkToDataActive] = useState(false);\n  const [uploadDataFileIsActive, setUploadDataFileActive] = useState(false);\n\n  const handleFileChange = (event) => {\n    setUploadDataFileActive(!uploadDataFileIsActive);\n    if (!name) {\n      setFieldValue('resource.name', event.currentTarget.files[0].name);\n    }\n    if (!mimetype) {\n      setFieldValue('resource.mimetype', event.currentTarget.files[0].type);\n    }\n    if (!format) {\n      const detectedFormat =\n        event.currentTarget.files[0].name &&\n        event.currentTarget.files[0].name.split('.').slice(-1)[0];\n      setFieldValue('resource.format', detectedFormat || '');\n    }\n    setFieldValue('resource.upload', event.currentTarget.files[0]);\n  };\n\n  return (\n    <div className=\"usa-form-custom\">\n      <section id=\"section-basic-mega-menu\" className=\"site-component-section\">\n        <h1 className=\"usite-page-title\" id=\"basic-mega-menu\">\n          Resource Upload\n        </h1>\n        <p className=\"site-text-intro\">\n          You can add the URL of the dataset where it is available on the agency website. If you are\n          uploading the dataset itself, please notify the Data.gov team at{' '}\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"mailto:inventory-help@gsa.gov\">\n            inventory-help@gsa.gov\n          </a>\n          <OutboundLink />. You can also add a URL or file of information related to the dataset\n          such as a data dictionary.\n        </p>\n      </section>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          {/* eslint-disable-next-line */}\n          <label className=\"usa-label\">Data</label>\n          {/* eslint-disable-next-line */}\n          {linkToDataIsActive ? (\n            <div>\n              <p className=\"usa-helptext\">\n                {`If you are linking to a dataset, please include \"http://\" at the beginning\n                of your URL.`}\n              </p>\n              <WrappedField\n                hidden={!linkToDataIsActive}\n                id=\"url\"\n                name=\"resource.url\"\n                type=\"url\"\n                value={url}\n                onClick={() => {\n                  setFieldValue('resource.url', '');\n                  setLinkToDataActive(false);\n                }}\n              />\n            </div>\n          ) : uploadDataFileIsActive ? (\n            <WrappedField\n              disabled\n              name=\"resource.fileName\"\n              type=\"string\"\n              value={upload.name}\n              onClick={() => {\n                setFieldValue('resource.upload', '');\n                setUploadDataFileActive(false);\n              }}\n            />\n          ) : (\n            <>\n              <br />\n              {/* eslint-disable-next-line */}\n              <label tabIndex=\"0\" htmlFor=\"upload\" className=\"usa-button usa-button--base\">\n                <i className=\"fa fa-cloud-upload\" aria-hidden=\"true\" /> Upload data\n              </label>\n              <input id=\"upload\" name=\"resource.upload\" type=\"file\" onChange={handleFileChange} />\n              {/* eslint-disable */}\n              <label\n                tabIndex=\"0\"\n                htmlFor=\"url\"\n                className=\"usa-button usa-button--base\"\n                onClick={() => {\n                  setLinkToDataActive(!linkToDataIsActive);\n                }}\n              >\n                <i className=\"fa fa-link\" aria-hidden=\"true\" /> Link to data\n              </label>\n              {/* eslint-enable */}\n            </>\n          )}\n          <p className=\"usa-helptext\">\n            Formats accepted include the following: TXT, HTML, TSV, CSV, ODT, XML, Perl.\n          </p>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <WrappedField\n            label=\"Name\"\n            name=\"resource.name\"\n            type=\"string\"\n            placeholder=\"\"\n            helptext=\"\"\n            value={name}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <WrappedField\n            label=\"Description\"\n            name=\"resource.description\"\n            type=\"string\"\n            component=\"textarea\"\n            rows=\"6\"\n            helptext=\"You can use Markdown Formatting here.\"\n            value={description}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <WrappedField\n            label=\"Media Type\"\n            name=\"resource.mimetype\"\n            type=\"select\"\n            choices={resourceFormats}\n            value={mimetype}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <WrappedField\n            label=\"Format\"\n            name=\"resource.format\"\n            type=\"string\"\n            helptext=\"Examples include: csv, xml, json.  This will be guessed automatically.  Leave blank if you wish.\"\n            value={format}\n          />\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <button\n            type=\"button\"\n            className=\"usa-button usa-button--outline\"\n            onClick={() => {\n              setFieldValue('publish', false);\n              setFieldValue('saveDraft', false);\n              setLinkToDataActive(false);\n              setUploadDataFileActive(false);\n              submitForm();\n            }}\n          >\n            Save and add another resource\n          </button>\n        </div>\n      </div>\n\n      {values.savedResources > 0 ? (\n        <div className=\"row\">\n          <div className=\"col-md-12 text-mint\">\n            <i>\n              Resource saved: [{values.lastSavedResourceName}] ({values.savedResources} resources\n              saved in total).\n            </i>\n            <br />\n            <i>You can edit any saved resource after clicking &quot;Finish and publish&quot;.</i>\n          </div>\n        </div>\n      ) : (\n        ''\n      )}\n\n      <div className=\"col-sm-12\">\n        <br />\n        <br />\n        <button\n          style={{ display: 'none' }}\n          className=\"usa-button usa-button--outline\"\n          type=\"button\"\n          onClick={() => {\n            setFieldValue('publish', false);\n            setFieldValue('saveDraft', true);\n            submitForm();\n          }}\n        >\n          Save draft\n        </button>\n        <button\n          className=\"usa-button\"\n          type=\"button\"\n          onClick={() => {\n            setFieldValue('publish', true);\n            submitForm();\n          }}\n        >\n          Finish and publish\n        </button>\n      </div>\n\n      {draftSaved && (\n        <div style={{ marginTop: '1rem' }}>\n          <div className=\"col-md-12 text-mint\">\n            <i>\n              Draft saved:\n              <br />[{draftSaved}]\n            </i>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nResourceUpload.propTypes = {\n  setFieldValue: PropTypes.func,\n  submitForm: PropTypes.func,\n  draftSaved: PropTypes.string,\n  values: PropTypes.shape({\n    resource: {\n      url: PropTypes.string,\n      upload: PropTypes.any, // eslint-disable-line\n      name: PropTypes.string,\n      description: PropTypes.string,\n      mimetype: PropTypes.string,\n      format: PropTypes.string,\n    },\n    publish: PropTypes.bool,\n    savedResources: PropTypes.number,\n    lastSavedResourceName: PropTypes.string,\n  }),\n};\n\nexport default ResourceUpload;\n","import * as yup from 'yup';\n\nexport default yup.object().shape({\n  name: yup.string(),\n  description: yup.string(),\n  mimetype: yup.string(),\n  format: yup.string(),\n  url: yup.string(),\n  upload: yup.mixed(),\n});\n","export default {\n  name: '',\n  description: '',\n  url: '',\n  format: '',\n  mimetype: '',\n  upload: null,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// Navigation block for moving between form pages (steps)\n// Step 1 -- Required metadata\n// Step 2 -- Additional metadata\n// Step 3 -- Resource uploads / links\nconst Navigation = (props) => {\n  const { currentStep, handleSteps } = props;\n  return (\n    <div className=\"app_navigation\" id=\"app_navigation\">\n      <div\n        tabIndex=\"0\"\n        role=\"button\"\n        className={`navsec ${currentStep === 0 ? 'active' : ''}`}\n        onClick={() => handleSteps(0)}\n        onKeyUp={(e) => {\n          if (e.keyCode === 13) {\n            handleSteps(0);\n          }\n        }}\n        id=\"nav-item-first\"\n      >\n        <span>Required Metadata</span>\n      </div>\n      <div\n        tabIndex=\"0\"\n        role=\"link\"\n        className={`navsec ${currentStep === 1 ? 'active' : ''}`}\n        onKeyUp={(e) => {\n          if (e.keyCode === 13) {\n            handleSteps(1);\n          }\n        }}\n        onClick={() => {\n          handleSteps(1);\n        }}\n      >\n        <span>Additional Metadata</span>\n      </div>\n      <div\n        tabIndex=\"0\"\n        role=\"button\"\n        className={`navsec ${currentStep === 2 ? 'active' : ''}`}\n        onKeyUp={(e) => {\n          if (e.keyCode === 13) {\n            handleSteps(2);\n          }\n        }}\n        onClick={() => {\n          handleSteps(2);\n        }}\n      >\n        <span>Resource Upload</span>\n      </div>\n    </div>\n  );\n};\n\nNavigation.propTypes = {\n  currentStep: PropTypes.number.isRequired,\n  handleSteps: PropTypes.func.isRequired,\n};\n\nexport default Navigation;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../../css/uswds.css';\n\nconst AlertBox = (props) => {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const { type, errors, message, heading } = props;\n  const formErrors =\n    errors &&\n    errors.map((error) => (\n      <p key={error.name}>\n        <b>{error.label}</b> {error.message}\n      </p>\n    ));\n  return (\n    <div className=\"usa-prose\">\n      <div className=\"usa-alert__body\">\n        <div className={`usa-alert usa-alert--${type}`}>\n          <div className=\"icon\" />\n          <div className=\"usa-alert__body\">\n            <h3 className=\"usa-alert__heading\">{heading}</h3>\n            <div className=\"usa-alert__text\">\n              {typeof message === 'string' && message}\n              {typeof message === 'object' && message.map((item) => <p key={item}>{item}</p>)}\n              {formErrors}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nAlertBox.propTypes = {\n  errors: PropTypes.array, // eslint-disable-line\n  heading: PropTypes.string,\n  message: PropTypes.string || PropTypes.array,\n  type: PropTypes.string,\n};\n\nexport default AlertBox;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Formik, Form } from 'formik';\nimport RequiredMetadata from '../RequiredMetadata';\nimport RequiredMetadataSchema from '../RequiredMetadata/validationSchema';\nimport RequiredMetadataLabels from '../RequiredMetadata/validationLabels';\nimport defaultRequiredValues from '../RequiredMetadata/defaultValues';\nimport defaultAdditionalValues from '../AdditionalMetadata/defaultValues';\nimport AdditionalMetadata from '../AdditionalMetadata';\nimport AdditionalMetadataSchema from '../AdditionalMetadata/validationSchema';\nimport ResourceUpload from '../ResourceUpload';\nimport ResourceUploadSchema from '../ResourceUpload/validationSchema';\nimport ResourceObject from '../ResourceUpload/ResourceObject';\nimport Navigation from '../Navigation';\nimport AlertBox from '../AlertBox';\nimport Api from '../../api';\nimport '../../css/custom.css';\nimport '../../css/uswds.css';\n\nconst formatErrors = (errors) =>\n  Object.keys(errors).map((name) => {\n    return {\n      name,\n      label: RequiredMetadataLabels[name],\n      message: errors[name],\n    };\n  });\n\nconst formatDate = (date) => {\n  return `${[`0${date.getHours()}`.slice(-2), `0${date.getMinutes()}`.slice(-2)].join(':')}, ${[\n    `0${date.getMonth() + 1}`.slice(-2),\n    `0${date.getDate()}`.slice(-2),\n    date.getFullYear().toString().slice(-2),\n  ].join('-')}`;\n};\n\nconst Heading = (props) => {\n  const { currentStep } = props;\n\n  if (currentStep === 0) {\n    return (\n      <h1 className=\"usite-page-title\" id=\"basic-mega-menu\">\n        Required Metadata\n      </h1>\n    );\n  }\n  if (currentStep === 1) {\n    return (\n      <h1 className=\"usite-page-title\" id=\"basic-mega-menu\">\n        Additional Metadata\n      </h1>\n    );\n  }\n  return '';\n};\n\nconst MetadataForm = (props) => {\n  const { apiUrl, apiKey, ownerOrg, datasetId } = props;\n\n  const [shouldFetch, setShouldFetch] = useState(true);\n  const [curDatasetId, setCurDatasetId] = useState(datasetId); // initial or fetched\n  const [formValues, setFormValues] = useState({\n    ...defaultRequiredValues,\n    ...defaultAdditionalValues,\n    state: 'draft',\n    saveDraft: false,\n  });\n\n  const [currentStep, setCurrentStep] = useState(0);\n  const [alert, setAlert] = useState();\n  const [draftSaved, setDraftSaved] = useState();\n\n  const handleError = (err) => {\n    let message = [];\n    if (err.response) {\n      // client received an error response (5xx, 4xx)\n      if (err.response.data && err.response.data.error) {\n        message = Object.keys(err.response.data.error).map((item) => {\n          if (typeof err.response.data.error[item] === 'object') {\n            return err.response.data.error[item].join('; ');\n          }\n          return err.response.data.error[item];\n        });\n      } else {\n        message = 'Something has failed. Please, try again later or contact site administrator.';\n      }\n    } else if (err.request) {\n      // client never received a response, or request never left. Likely it's a network issue.\n      message =\n        'Please, check your connection or try again later. If the issue persists, contact site administrator.';\n    } else {\n      // anything else - not a axios/network issue.\n      message = 'Something has failed. Please, try again later or contact site administrator.';\n    }\n\n    setAlert(<AlertBox type=\"error\" heading=\"Error saving metadata\" message={message} />);\n    window.scrollTo(0, 0);\n  };\n\n  if (curDatasetId && shouldFetch) {\n    setShouldFetch(false);\n    Api.fetchDataset(curDatasetId, apiUrl, apiKey)\n      .then((result) => {\n        const apiRes = Object.assign({}, result);\n        apiRes.description = result.notes;\n        setFormValues(Object.assign({}, formValues, apiRes));\n        setCurDatasetId(apiRes.id);\n      })\n      .catch(handleError);\n  }\n\n  // render metadata form\n  return (\n    <div className=\"grid-container\">\n      <Navigation currentStep={currentStep} handleSteps={setCurrentStep} />\n      <Heading currentStep={currentStep} />\n      {alert}\n\n      {/* ---------- PAGE 1 -- REQUIRED METADATA ---------- */}\n      {currentStep === 0 && (\n        <Formik\n          initialValues={formValues}\n          enableReinitialize=\"true\"\n          validateOnChange={false}\n          validateOnBlur={false}\n          validateOnMount={false}\n          onSubmit={(values) => {\n            // update or create dataset:\n            if (curDatasetId) {\n              Api.updateDataset(curDatasetId, values, apiUrl, apiKey)\n                .then((res) => {\n                  setFormValues(Object.assign({}, res, { description: res.notes }));\n                  if (values.saveDraft) {\n                    setDraftSaved(new Date());\n                  } else {\n                    setAlert(<AlertBox type=\"success\" heading=\"Dataset saved successfully\" />);\n                    setCurrentStep(1);\n                    window.scrollTo(0, 0);\n                  }\n                })\n                .catch(handleError);\n            } else {\n              Api.createDataset(values, apiUrl, apiKey)\n                .then((res) => {\n                  setFormValues(res);\n                  setCurDatasetId(res.id);\n                  if (values.saveDraft) {\n                    setDraftSaved(new Date());\n                  } else {\n                    setAlert(<AlertBox type=\"success\" heading=\"Dataset saved successfully\" />);\n                    setCurrentStep(1);\n                    window.scrollTo(0, 0);\n                  }\n                })\n                .catch(handleError);\n            }\n          }}\n          validationSchema={RequiredMetadataSchema}\n        >\n          {({ values, handleSubmit, errors, setFieldValue, submitForm }) => {\n            return (\n              <div>\n                {errors && Object.keys(errors).length > 0 && (\n                  <div>\n                    <AlertBox\n                      type=\"error\"\n                      heading=\"This form contains invalid entries\"\n                      errors={formatErrors(errors)}\n                    />\n                  </div>\n                )}\n                <Form onSubmit={handleSubmit}>\n                  <div>\n                    <RequiredMetadata\n                      apiKey={apiKey}\n                      apiUrl={apiUrl}\n                      ownerOrg={ownerOrg}\n                      currentStep={0}\n                      fetchDatasetsOpts=\"false\"\n                      values={values || {}}\n                      errors={errors}\n                      draftSaved={draftSaved ? formatDate(draftSaved) : undefined}\n                      setFieldValue={setFieldValue}\n                      submitForm={submitForm}\n                    />\n                  </div>\n                </Form>\n              </div>\n            );\n          }}\n        </Formik>\n      )}\n\n      {/* ---------- PAGE 2 -- ADDITIONAL METADATA ---------- */}\n      {currentStep === 1 && (\n        <Formik\n          initialValues={formValues}\n          enableReinitialize=\"true\"\n          validateOnChange={false}\n          validateOnBlur={false}\n          onSubmit={(values) => {\n            const id = formValues && formValues.id;\n            setFormValues(Object.assign({}, formValues, values));\n            if (id) {\n              Api.updateDataset(id, values, apiUrl, apiKey)\n                .then(() => {\n                  if (values.saveDraft) {\n                    setDraftSaved(new Date());\n                  } else {\n                    setAlert(<AlertBox type=\"success\" heading=\"Dataset saved successfully\" />);\n                    setCurrentStep(2);\n                    window.scrollTo(0, 0);\n                  }\n                })\n                .catch(handleError);\n            } else {\n              setAlert(\n                <AlertBox\n                  type=\"error\"\n                  heading=\"No valid metadata saved in step 1.\"\n                  message=\"Please complete complete step one before submitting step 2.\"\n                />\n              );\n              window.scrollTo(0, 0);\n            }\n          }}\n          validationSchema={AdditionalMetadataSchema}\n        >\n          {({ values, handleSubmit, errors, setFieldValue, submitForm }) => {\n            return (\n              <div>\n                {errors && Object.keys(errors).length > 0 && (\n                  <div>\n                    <AlertBox\n                      type=\"error\"\n                      heading=\"This form contains invalid entries\"\n                      errors={formatErrors(errors)}\n                    />\n                  </div>\n                )}\n                <Form onSubmit={handleSubmit}>\n                  <div>\n                    <AdditionalMetadata\n                      apiKey={apiKey}\n                      apiUrl={apiUrl}\n                      ownerOrg={ownerOrg}\n                      currentStep={1}\n                      fetchDatasetsOpts=\"false\"\n                      values={values || {}}\n                      errors={errors}\n                      draftSaved={draftSaved ? formatDate(draftSaved) : undefined}\n                      setFieldValue={setFieldValue}\n                      submitForm={submitForm}\n                    />\n                  </div>\n                </Form>\n              </div>\n            );\n          }}\n        </Formik>\n      )}\n      {/* ---------- PAGE 3 -- RESOURSE UPLOAD ---------- */}\n      {currentStep === 2 && (\n        <Formik\n          initialValues={{\n            resource: JSON.parse(JSON.stringify(ResourceObject)),\n            publish: true,\n            savedResources: 0,\n            lastSavedResourceName: null,\n            saveDraft: false,\n          }}\n          enableReinitialize=\"true\"\n          validateOnChange={false}\n          validateOnBlur={false}\n          onSubmit={(values, { setFieldValue }) => {\n            // Check if resource should be created, eg, user added any metadata:\n            const resourceMetadataChanged =\n              JSON.stringify(ResourceObject) !== JSON.stringify(values.resource);\n            if (curDatasetId) {\n              const apiUrlObject = new URL(apiUrl);\n              const datasetPageUrl = `${apiUrlObject.origin}/dataset/${curDatasetId}`;\n              if (resourceMetadataChanged) {\n                Api.createResource(curDatasetId, values.resource, apiUrl, apiKey)\n                  .then((res) => {\n                    if (res.status === 200) {\n                      if (values.publish) {\n                        // Update dataset state: 'draft' => 'active'\n                        Api.patchDataset(curDatasetId, { state: 'active' }, apiUrl, apiKey).then(\n                          (response) => {\n                            if (response.status === 200) {\n                              // Redirect to dataset page\n                              window.location.replace(datasetPageUrl);\n                            }\n                          }\n                        );\n                      } else if (values.saveDraft) {\n                        setDraftSaved(new Date());\n                      } else {\n                        setDraftSaved(new Date());\n                        setFieldValue('savedResources', values.savedResources + 1);\n                        setFieldValue('lastSavedResourceName', values.resource.name);\n                        setFieldValue('resource', JSON.parse(JSON.stringify(ResourceObject)));\n                      }\n                    }\n                  })\n                  .catch(handleError);\n              } else if (values.publish) {\n                // Update dataset state: 'draft' => 'active'\n                Api.patchDataset(curDatasetId, { state: 'active' }, apiUrl, apiKey)\n                  .then((res) => {\n                    if (res.status === 200) {\n                      // Redirect to dataset page\n                      window.location.replace(datasetPageUrl);\n                    }\n                  })\n                  .catch(handleError);\n              }\n            } else {\n              setAlert(\n                <AlertBox\n                  type=\"error\"\n                  heading=\"No valid metadata saved in previous steps.\"\n                  message=\"Please complete previous steps before submitting resource(s).\"\n                />\n              );\n            }\n          }}\n          validationSchema={ResourceUploadSchema}\n          render={({ values, errors, handleSubmit, setFieldValue, submitForm }) => (\n            <div className=\"\">\n              {errors && Object.keys(errors).length > 0 && (\n                <div>\n                  <AlertBox\n                    type=\"error\"\n                    heading=\"This form contains invalid entries\"\n                    errors={formatErrors(errors)}\n                  />\n                </div>\n              )}\n              <Form onSubmit={handleSubmit}>\n                <ResourceUpload\n                  values={values}\n                  draftSaved={draftSaved ? formatDate(draftSaved) : undefined}\n                  setFieldValue={setFieldValue}\n                  submitForm={submitForm}\n                />\n\n                <div className=\"row\">\n                  <div className=\"col-sm-12\">\n                    <br />\n                    <br />\n                  </div>\n                </div>\n              </Form>\n            </div>\n          )}\n        />\n      )}\n    </div>\n  );\n};\n\nMetadataForm.propTypes = {\n  apiUrl: PropTypes.string.isRequired,\n  apiKey: PropTypes.string.isRequired,\n  ownerOrg: PropTypes.string, // required if creating new metadata\n  datasetId: PropTypes.string,\n};\n\nexport default MetadataForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MetadataForm from './components/MetadataForm';\n\nconst App = (props) => {\n  const { apiUrl, apiKey, ownerOrg, datasetId } = props;\n  console.log({ apiUrl, apiKey, ownerOrg }); // eslint-disable-line\n  return (\n    <div className=\"App\">\n      <MetadataForm apiUrl={apiUrl} apiKey={apiKey} ownerOrg={ownerOrg} datasetId={datasetId} />\n    </div>\n  );\n};\n\nApp.propTypes = {\n  apiUrl: PropTypes.string.isRequired,\n  apiKey: PropTypes.string.isRequired,\n  ownerOrg: PropTypes.string, // required if creating new dataset\n  datasetId: PropTypes.string,\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst root = document.getElementById('root');\nconst apiUrl = root.getAttribute('data-apiUrl');\nconst apiKey = root.getAttribute('data-apiKey');\nconst ownerOrg = root.getAttribute('data-ownerOrg');\nconst datasetId = root.getAttribute('data-datasetId');\n\nReactDOM.render(\n  <React.StrictMode>\n    <App apiUrl={apiUrl} apiKey={apiKey} ownerOrg={ownerOrg} datasetId={datasetId} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/outbound.ae6ec074.svg\";"],"sourceRoot":""}